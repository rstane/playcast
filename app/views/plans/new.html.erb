
<div id="content_plans">
<%= form_for( :plan, url: plans_path, html: { class: "plan_form" } ) do |f| %>
  <div id="planpost">
    <h1>プラン投稿</h1>

    <%# エラーメッセージ %>
    <% if @plan.errors.any? %>
      <div id="error_explanation">
        <ul>
        <% @plan.errors.full_messages.each do |msg| %>
          <li style="color: red;"><%= msg %></li>
        <% end %>
        </ul>
      </div>
    <% end %>

    <h2>プランのタイトル<span class="postmark">必須</span></h2>
    <%= f.text_field :title, placeholder: "◯◯に一緒に行きませんか？", size: "75" %>

<%# 一旦無し %>
<% if false %>
    <h2>イメージ画像<span class="postmark">必須</span></h2>
    <%= f.text_field :image_url, placeholder: "◯◯.com", size: "75" %>
<% end %>

    <h2>詳細説明<span class="postmark">必須</span></h2>
    <%= f.text_area :description, rows: "4", cols: "62", placeholder: "気になってはいるけど、なかなか機会が無い◯◯。みんなで楽しい思い出を作りましょう！" %>

    <h2>日時候補を選択してください(必ず１つ以上選択〜最大5つまで)<span class="postmark">必須</span></h2>
    <p style=" font-size: 0.7em; ">※【日時候補とは】<br>あらかじめ開催する日時の候補を決めておき、一番参加者が多く集まった日時で開催します。貴方の都合が良い日時を選びましょう。</p>
    <% 1.upto(5){ |n| %>
      <script type="text/javascript">
        $(function(){ $("#datepicker<%= n %>").datepicker(); });
      </script>

      <p>
        <%= n %>.<%= text_field_tag( "schedules[#{n}][date]", nil, placeholder: "⇒カレンダーが開きます", id: "datepicker#{n}", size: "21" ) %>
        <%= datetime_select( "schedules[#{n}]", "time", { discard_day: true, discard_month: true, discard_year: true, minute_step: 10 } ) %>
        にスタート
      </p>
    <% } %>

    <h2>場所<span class="postmark">必須</span></h2>
    <%= f.text_field :place, placeholder: "新宿", size: "30" %>

    <h2>予算<span class="postmark">必須</span></h2>
    <%= f.text_field :budget, placeholder: "3000円くらい", size: "30" %>

    <h2>最低開催人数<span class="postmark">必須</span></h2>
    <%= f.number_field :min_people, min: "1", max: "9999" %>人以上集まったら開催決定

    <h2>定員</h2>
    <%= f.number_field :max_people, min: "1", max: "9999", value: "" %>人まで

    <h2>こんな人に来てほしい</h2>
    <%= f.text_area :target_people, rows: "4", cols: "43", placeholder: "◯◯が好きな人、年代が近めな人" %>

    <h2>カテゴリ選択<span class="postmark">必須</span></h2>
    <% Category.all.each.with_index(1){ |category, index| %>
      <%= check_box_tag "categories[#{index}]", category.id, (params[:categories].present? ? params[:categories].has_value?(category.id.to_s) : false) %>
      <%= label_tag "categories[#{index}]", category.name %>
    <% } %>

    <br><br>

    <%= f.submit "", data: { 'disable-with' => "" }, class: "postbutton" %>
  </div>
<% end %>

  <div id="explan">
    <div class="extitle">
      ※プランの記入例※<br>(このような形で表示されます)
    </div>

    <h1>(例)新宿でカラオケに行きましょう！</h1>
    <div class="explanimg"><img src="/assets/plansozai.png" alt="みんなでカラオケに行こう！" width="340px" height="220" /></p></div>

    <dl class="explande">
      <dt>プラン説明：</dt> <dd>主にJ-POP、ロック、アニソンなどが好きです! 中々カラオケに行く機会が無いという方、一緒に歌い尽くしましょう!</dd>
      <dt>日時候補：</dt> <dd>12月16日 19:00〜<br />12月17日 19:00〜<br />12月22日 19:00〜<br />12月28日 19:00〜<br />12月31日 19:00〜<br />の内、参加者が集まった日にちに開催</dd>
      <dt>場所：</dt> <dd>渋谷・新宿・六本木あたりをアンケートで決める</dd>
      <dt>予算：</dt> <dd>普通のカラオケの値段</dd>
      <dt>最低開催人数：</dt> <dd>6人以上で開催</dd>
      <dt>定員：</dt> <dd>10人まで</dd>
      <dt>こんな人に来てほしい：</dt> <dd>大学生限定
      </dd>
    </dl>
  </div>
</div>
